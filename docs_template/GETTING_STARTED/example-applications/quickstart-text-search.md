---
title: "Text search (using USE VectorHub)"
excerpt: ""
slug: "quickstart-text-search"
hidden: false

---

<figure>
<img src="https://github.com/RelevanceAI/RelevanceAI-readme-docs/blob/vv0.33.2-clustering-feature/docs_template/GETTING_STARTED/example-applications/_assets/RelevanceAI_text_search.png?raw=true"
     alt="RelevanceAI Text to Image"
     style="width: 100% vertical-align: middle"/>
<figcaption>
<a href="https://tfhub.dev/google/universal-sentence-encoder/4">Universal Sentence Encoder encoding process</a>
</figcaption>

<figure>

In this section, we will show you how to create and experiment with a powerful text search engine using Google's Universal Sentence Encoder through [VectorHub library](https://github.com/RelevanceAI/vectorhub) and Relevance AI.

**Try it out in Colab:** [![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/RelevanceAI/RelevanceAI-readme-docs/blob/vv0.33.2-clustering-feature/docs/GETTING_STARTED/example-applications/_notebooks/RelevanceAI-ReadMe-Text-Search-using-USE-VectorHub.ipynb)


### What I Need
* Project and API Key: Grab your RelevanceAI project and API key by [signing up](https://cloud.relevance.ai/ )
* Python 3 (ideally a Jupyter Notebook/Colab environment)

### Installation Requirements


@@@+ relevanceai_installation, RELEVANCEAI_SDK_VERSION=RELEVANCEAI_SDK_VERSION @@@



### Setting Up Client

To be able to use Relevance AI, you need to instantiate a client. This needs a Project and API key that can be accessed at [https://cloud.relevance.ai/](https://cloud.relevance.ai/) in the settings area! Alternatively, you can run the code below and follow the link and the guide.


@@@ client_instantiation @@@


## Text Search with Universal Sentence Encoder using VectorHub


### 1. Data

For this experiment, we use our sample e-commerce dataset and preview one of the documents.


@@@ get_ecommerce_dataset_clean @@@

An example document should have a structure that looks like this.


@@@ ecommerce_dataset_clean_sample_document@@@

### 2. Encode

Next, we will instantiate the universal sentence encoder from VectorHub and encode the `product_title` field among all documents.


@@@ use2vec_encode_documents, TEXT_VECTOR_FIELDS=['product_title'] @@@


We can see that there is now a field called `product_title_use_vector_` in our data.
`_use_vector_` is the name assigned to the model in Vectorhub and we use it when generating vectors.
If you prefer a different name, simply modify the `__name__` attribute via


```python Python (SDK)

enc.__name__ = "model_name_goes_here"
```
```python
```

### 3. Insert

The data can be easily uploaded to Relevance AI platform via `insert_documents`.


@@@+ dataset_basics, DATASET_ID=QUICKSTART_TEXT_SEARCH_DATASET_ID @@@

### 3. Search

Note that our dataset includes vectors generated by Universal Sentence Encoder. Therefore, in this step, we first vectorize the query using the same encoder to be able to search among the similarly generated vectors.


@@@ model_encode_query, QUERY='Gift for my son' @@@


Simple vector search against our dataset:

@@@+ multivector_query, VECTOR_FIELD=query_vector, VECTOR_FIELDS=["product_title_use_vector_"];  vector_search, MULTIVECTOR_QUERY=multivector_query, PAGE_SIZE=5 @@@


We can see the results on the dashboard via the provided link after the search finishes. Or using Relevance AI `json_shower` as shown below:

@@@ query_show_json, QUERY=query, IMAGE_FIELDS=["product_image"], TEXT_FIELDS=["product_title"] @@@



<figure>
<img src="https://github.com/RelevanceAI/RelevanceAI-readme-docs/blob/vv0.33.2-clustering-feature/docs_template/GETTING_STARTED/example-applications/_assets/RelevanceAI_text_search_results.png?raw=true"
     alt="Text Search Results"
     style="width: 100% vertical-align: middle"/>
<figcaption>Text Search Results</figcaption>

<figure>

This is just a quick and basic example of using Relevance AI for text search, there are many other search features such as faceted vector search, hybrid search, chunk search, multivector search. For further information please visit [Better text search](doc:better-text-search).


[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/RelevanceAI/RelevanceAI-readme-docs/blob/vv0.33.2-clustering-feature/docs/GETTING_STARTED/example-applications/_notebooks/RelevanceAI-ReadMe-Text-Search-using-USE-VectorHub.ipynb)



## Final Code

@@@+ client_instantiation; get_ecommerce_dataset_clean; use2vec_encode_documents, TEXT_VECTOR_FIELDS=['product_title']; dataset_basics, DATASET_ID=QUICKSTART_TEXT_SEARCH_DATASET_ID;  model_encode_query, QUERY='Gift for my son'; multivector_query, VECTOR_FIELD=query_vector, VECTOR_FIELDS=["product_title_use_vector_"];  vector_search, MULTIVECTOR_QUERY=multivector_query, PAGE_SIZE=5; query_show_json, QUERY='Gift for my son', IMAGE_FIELDS=["product_image"], TEXT_FIELDS=["product_title"] @@@
